<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">

<head>
    <title>SDI-Lab data viewer</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#0271BE" />
    <meta name="msapplication-navbutton-color" content="#0271BE" />
    
    <!-- CSS stylesheets -->
    <!-- =============== -->
    <link rel="stylesheet" type="text/css" href="js/vendor/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="js/vendor/select2/select2.css" />
    <link rel="stylesheet" type="text/css" href="css/vendor/academicons/academicons.css">
    <link rel="stylesheet" type="text/css" href="js/OpenFairViewer/OpenFairViewer.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />

    <!-- Javascripts deps -->
    <!-- ================ -->
    <!-- Jsonix -->
    <script type="text/javascript" src="js/vendor/jsonix/Jsonix-all.js"></script>
    <script type="text/javascript" src="js/vendor/jsonix/GeoJSON.js"></script>
    <!-- W3C schemas -->
    <script type="text/javascript" src="js/vendor/w3c-schemas/XLink_1_0.js"></script>
    <!-- OGC schemas -->
    <script type="text/javascript" src="js/vendor/ogc-schemas/OWS_1_0_0.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/DC_1_1.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/DCT.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/CSW_2_0_2_Full.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/Filter_1_1_0.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/GML_3_1_1.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/GML_3_2_0.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/GML_3_2_1.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/SMIL_2_0_Language.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/SMIL_2_0.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GCO_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GMD_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GTS_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GSS_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GSR_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GMX_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_SRV_20060504.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GCO_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GMD_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GTS_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GSS_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GSR_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_GMX_20070417.js"></script>
    <script type="text/javascript" src="js/vendor/ogc-schemas/ISO19139_SRV_20060504.js"></script>
    <!-- OWS.js -->
    <script type="text/javascript" src="js/vendor/ows/ows.debug.js"></script>   
    <!-- JQuery main & plugins -->
    <script type="application/javascript" src="js/vendor/jquery/jquery.js"></script>
    <script type="application/javascript" src="js/vendor/jquery/jquery-ui.js"></script>
    <script type="application/javascript" src="//cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script type="application/javascript" src="js/vendor/jquery/jquery-ui-timepicker-addon.js"></script>
    <!--Bootstrap-->
    <script type="application/javascript" src="js/vendor/bootstrap/bootstrap.js"></script>
    <!--Jquery Select2-->
    <script type="application/javascript" src="js/vendor/select2/select2.js"></script>
    <!--Proj4Js-->
    <script type="application/javascript" src="js/vendor/proj4js/proj4.js"></script>
    <!--OpenLayers 3-->
    <script type="application/javascript" src="//cdnjs.cloudflare.com/ajax/libs/ol3/3.18.2/ol-debug.js"></script>
    <script type="application/javascript" src="js/vendor/ol3/ol3-loadingpanel.js"></script>
    <script type="application/javascript" src="js/vendor/ol3/ol3-zoomtomaxextent.js"></script>
    <script type="application/javascript" src="js/vendor/ol3/ol3-layerswitcher.js"></script>
    <script type="application/javascript" src="js/vendor/ol3/ol3-popup.js"></script>
    <script type="application/javascript" src="js/vendor/ol3/ol3-snapshot.js"></script>
    <!-- Mustache templating -->
    <script type="application/javascript" src="js/vendor/mustache/mustache.js"></script>
    <!-- Pagination bootpag library -->
    <script type="application/javascript" src="js/vendor/bootpag/jquery.bootpag.js"></script>
    <!-- Polyfills -->
    <script src="https://www.promisejs.org/polyfills/promise-7.0.4.min.js"></script>
    <!-- FileSaver -->
    <script type="application/javascript" src="js/vendor/eligrey/FileSaver.min.js"></script>
    <!-- Statistics libraries -->
    <script type="application/javascript" src="js/vendor/stats/simple-statistics.js"></script>
    <!-- OpenFairViewer -->
    <script type="application/javascript" src="js/OpenFairViewer/OpenFairViewer.js"></script>
    <script type="application/javascript" src="js/main.js"></script>
	
</head>

<body>
    <!-- Browse Happy --><!--[if lte IE 9]><style type='text/css' scoped>* {display: none;} html, body, br {color: #000000; display: block !important; background-color: #FFFFFF; background-image: none;} a, strong {display: inline !important;} a {color: #0000FF !important;text-decoration: underline !important;} a:visited {color: #800080 !important;} a:active {color: #FF0000 !important;} .browsehappy {position: absolute;width: 100%;height: 100%;left: 0px;top: 0px;background-color: #ffffff;display: block !important;font-family: "Times New Roman";font-size: 25px;text-align: center;margin: 0px;padding: 0px;}</style><div class="browsehappy"><br /><br />You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->
    <!-- NoScript --><noscript><style type='text/css' scoped> html, body { overflow: hidden; } a, strong { display: inline !important; } a { color: #0000FF !important; text-decoration: underline !important; } a:visited { color: #800080 !important; } a:active { color: #FF0000 !important; } noscript, .noscript { display: block !important; position: absolute !important; z-index: 1000; width: 100%; height: 100%; left: 0px; top: 0px; background-color: #ffffff; color: #000; font-family: "Times New Roman"; font-size: 25px; text-align: center; margin: 0px; padding: 0px; } </style> <div class="noscript"> <br /> <br /> JavaScript is <strong>required</strong> to access this site. Please <a href="http://www.activatejavascript.org/">enable JavaScript</a> to access this site.</div></noscript>
   
    <div class="wrapper">
      <div class="col-sm-12 pages">
      
	<!-- Disclaimer -->
    
        <!-- Topbar menu -->
        <nav class="topbarContent">
            <ul>
                <li data-where="#pageMap" onclick="app.openAboutDialog()" title="About SDI Lab Atlas">About</li>
                <li data-where="#pageMap" onclick="app.openFindDialog()" title="Find data by browsing the data catalogue">Find</li>
                <li data-where="#pageMap" onclick="app.openAccessDialog()" title="Access and query data">Access</li>
            </ul>
        </nav>
      
        <!-- map -->
        <div class="page" id="pageMap">
            <div class="content">
				<!-- Map -->
                <div id="map"></div>
				
				<!-- Link panel -->
				<div id="linkPanel" class="sidePanel" onmouseover="app.setEmbedLink()">
					<h4>Link</h4>
					<blockquote>
						<div>
							<label for="OpenFairViewer-link">Paste the link in email or chat</label>
							<input id="OpenFairViewer-link" type="text" readonly="readonly" value="" onclick="this.focus();this.select();" /> 
						</div>
					<blockquote>
				</div>
            </div>
        </div>
        
        <!-- other pages -->
      </div>
    </div>
    
    <!-- Dialog contents -->
    <div id="aboutDialog">
        <p>Welcome to the <b>Blue-Cloud SDI-Lab data portal!</b></p>
        <p>The SDI-lab provides a digital map viewer on top of the SDI-Lab catalogue in support of Blue-Cloud Fisheries and Aquaculture atlas demonstrators</p>
	<p style="text-align:center;"><img src="https://www.blue-cloud.org/sites/all/themes/arcadia/logo.png" height=50/></p>
	
    </div>
    <div id="findDialog">
        <div id="dataset-form">
          <!-- Search form -->
          <section class="col-xs-12 col-sm-12 col-md-12 search" style="margin-bottom:5px;">
            <form id="dataset-form">
              <div class="form-group" style="margin-bottom:4px;">
                <input type="text" class="form-control" id="dataset-search-text" aria-describedby="searchHelp" placeholder="Search a dataset">
              </div>
	      <a data-toggle="collapse" href="#dataset-search-advanced" role="button" aria-expanded="false" aria-controls="dataset-search-advanced">Advanced settings</a>
	      <br>
	      <div class="collapse multi-collapse" id="dataset-search-advanced">
      		<fieldset style="border: 1px #ccc solid;border-radius:4px;padding:4px;">
		 <div class="col-md-6">
              	  <div class="form-check" >
                     <label class="form-check-label" style="font-weight:100">
                  	<input id ="dataset-search-bbox-on-search" type="checkbox" class="form-check-input">
                  	Enable Search on map extent
                     </label>
              	  </div>
		  <div class="form-check" >
                     <label class="form-check-label" style="font-weight:100">
                  	<input id ="dataset-search-bbox-on-mapmove" type="checkbox" class="form-check-input">
                  	Auto-Search on map move
                     </label>
              	  </div>
		 </div>
		 <div>
		  <div class="form-check" >
                     <label class="form-check-label" style="font-weight:100">
                  	<input id ="dataset-spatial-coverage-visible" type="checkbox" class="form-check-input" checked>
                  	Display dataset bounding box (if any)
                     </label>
              	  </div>
				  <div class="form-check" >
                     <label class="form-check-label" style="font-weight:100">
                  	<input id ="dataset-spatial-coverage-extended" type="checkbox" class="form-check-input">
                  	Display dataset extent geometries (if any)
                     </label>
              	  </div>
		 </div>
		</fieldset>
	      </div>
              <input type="submit" class="btn btn-primary btn-sm" style="float:right;" value="Search"></input>
            </form>
          </section>
        </div>
	
	<span id="dataset-count" style="font-weight:bold;font-style:italic;margin-left:15px;"></span>

        <div id="dataset-list">
          <!-- Search results -->
          <div id="dataset-articles"></div>
          <!-- Search pagination -->
          <div id="dataset-pages"></div>
	  <div class="dataTables_length" style="text-align:right;margin-right:5px;">
	  	<label>Show 
		<select id="datasets_length" class="">
		  <option value="5">5</option>
		  <option value="10">10</option>
		  <option value="25">25</option>
		  <option value="50">50</option>
		</select> datasets</label>
	   </div>
        </div>
    </div>
    <div id="accessDialog">
        <!-- Dynamic query UI -->
        <div id="dsd-ui-wrapper">
          <!-- Search loader -->
          <p id="dsd-loader" class="loader">
            <img alt="loading" src="js/OpenFairViewer/img/loading.gif" />
            <br /><br />Fetching data structure definition...
          </p>
          <!-- Dynamic query -->
          <div id="dsd-ui"></div>
        </div>
    </div>
    <div id="infoDialog">
	<div class="row" style="height:100% !important;">
		<div class="col-md-12" style="height:100% !important;">
			<div id="datasetInfo" style="height:100% !important; background:url(js/OpenFairViewer/img/loading.gif) center center no-repeat;">
			</div>
		</div>
	</div>
    </div>
    <div id="dataDialog">
	<div class="row" style="height:100% !important;">
		<div class="col-md-12" style="height:100% !important;">
			<table id="data-table" class="display nowrap" style="width:100%"></table>
		</div>
	</div>
    </div>
    
    <!-- Templates -->
    <!-- ========= -->
    <!-- Dataset search template -->
    <script id="datasetTpl" type="text/template">
     <article id="{{pid}}" class="search-result row">
	<div class="col-xs-3 col-sm-3 col-md-3 thumbnail-wrapper">
            <span class="thumbnail"><img class="graphic_overview" src="{{graphic_overview}}" alt="{{pid}}" /></span>
	</div>
       	<div class="col-xs-9 col-sm-9 col-md-9 excerpet">
	    <h6>{{title}}</h6>
	    {{#doi}}
	    <button class="btn btn-xs dataset-button dataset-button-doi" 
		    data-pid="{{pid}}" title="Access resource with DOI" 
		    onclick="app.resolveDatasetDOI(this)"><span class="ai ai-doi" style="font-size:120%;"></span></button>
	    {{/doi}}
	    <button class="btn btn-xs dataset-button dataset-button-info"
		    data-pid="{{pid}}" title="Access dataset metadata"
		    onclick="app.displayDatasetMetadata(this)"><span class="glyphicon glyphicon-info-sign"></span></button>
		<button class="btn btn-xs dataset-button dataset-button-zoom"
		    data-pid="{{pid}}" title="Zoom to dataset spatial extent"
		    onclick="app.zoomToExtent(this)"><span class="glyphicon glyphicon-zoom-in"></span></button>
        {{#queryable}}
	    <button class="btn btn-xs dataset-button dataset-button-add pid"
		    data-pid="{{pid}}" title="Query & Map dataset"
		    onclick="app.openAccessDialog();app.displayDatasetQueryForm(this);"><span class="glyphicon glyphicon-globe"></span></button>
	    {{/queryable}}
        </div>
      </article>
    </script>
    
 </body>

</html>
